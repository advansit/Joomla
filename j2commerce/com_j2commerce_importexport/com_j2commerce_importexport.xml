<?xml version="1.0" encoding="utf-8"?>
<extension type="component" method="upgrade">
    <name>COM_J2COMMERCE_IMPORTEXPORT</name>
    <element>com_j2commerce_importexport</element>
    <author>Advans IT Solutions GmbH</author>
    <creationDate>December 2025</creationDate>
    <copyright>Copyright (C) 2025 Advans IT Solutions GmbH. All rights reserved.</copyright>
    <license>Proprietary</license>
    <authorEmail>info@advans.ch</authorEmail>
    <authorUrl>https://advans.ch</authorUrl>
    <version>1.0.0</version>
    <description>COM_J2COMMERCE_IMPORTEXPORT_XML_DESCRIPTION</description>
    
    <targetplatform name="joomla" version="(4\.[0-9]|5\.[0-9]|6\.[0-9])" />

    <namespace path="src">Advans\Component\J2CommerceImportExport</namespace>
    <scriptfile>script.php</scriptfile>

    <administration>
        <menu>COM_J2COMMERCE_IMPORTEXPORT</menu>
        <files folder="administrator/components/com_j2commerce_importexport">
            <folder>services</folder>
            <folder>src</folder>
            <folder>tmpl</folder>
            <folder>language</folder>
            <folder>sql</folder>
        </files>
        
        <languages folder="administrator/language">
            <language tag="en-GB">en-GB/com_j2commerce_importexport.ini</language>
            <language tag="en-GB">en-GB/com_j2commerce_importexport.sys.ini</language>
            <language tag="de-CH">de-CH/com_j2commerce_importexport.ini</language>
            <language tag="de-CH">de-CH/com_j2commerce_importexport.sys.ini</language>
            <language tag="fr-FR">fr-FR/com_j2commerce_importexport.ini</language>
            <language tag="fr-FR">fr-FR/com_j2commerce_importexport.sys.ini</language>
        </languages>
    </administration>

    <config>
        <fields name="params">
            <fieldset name="basic">
                <field
                    name="autoload_language"
                    type="hidden"
                    default="1"
                />
                
                <field
                    name="batch_size"
                    type="number"
                    label="COM_J2COMMERCE_IMPORTEXPORT_BATCH_SIZE_LABEL"
                    description="COM_J2COMMERCE_IMPORTEXPORT_BATCH_SIZE_DESC"
                    default="100"
                    min="10"
                    max="1000"
                    step="10"
                />

                <field
                    name="default_format"
                    type="list"
                    label="COM_J2COMMERCE_IMPORTEXPORT_DEFAULT_FORMAT_LABEL"
                    description="COM_J2COMMERCE_IMPORTEXPORT_DEFAULT_FORMAT_DESC"
                    default="json"
                >
                    <option value="csv">CSV</option>
                    <option value="xml">XML</option>
                    <option value="json">JSON</option>
                </field>

                <field
                    name="csv_delimiter"
                    type="list"
                    label="COM_J2COMMERCE_IMPORTEXPORT_CSV_DELIMITER_LABEL"
                    description="COM_J2COMMERCE_IMPORTEXPORT_CSV_DELIMITER_DESC"
                    default=","
                >
                    <option value=",">,</option>
                    <option value=";">;</option>
                    <option value="\t">Tab</option>
                </field>

                <field
                    name="csv_enclosure"
                    type="list"
                    label="COM_J2COMMERCE_IMPORTEXPORT_CSV_ENCLOSURE_LABEL"
                    description="COM_J2COMMERCE_IMPORTEXPORT_CSV_ENCLOSURE_DESC"
                    default='"'
                >
                    <option value='"'>"</option>
                    <option value="'">'</option>
                </field>
            </fieldset>
        </fields>
    </config>


    <updateservers>
        <server type="extension" priority="1" name="J2Commerce Import/Export Updates">
            https://raw.githubusercontent.com/advansit/Joomla/main/j2commerce/com_j2commerce_importexport/updates/update.xml
        </server>
    </updateservers>
</extension>
